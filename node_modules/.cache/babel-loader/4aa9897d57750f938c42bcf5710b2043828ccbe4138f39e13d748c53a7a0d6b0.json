{"ast":null,"code":"import CustomModalForm from'../../../../components/custom-modal/CustomModalForm';import employeeServices from'../../../../services/employeServices/EmployeeServices';import Table from'../../../../components/custom-table/CustomTable';import{useState,useEffect}from'react';import Toast from'../../../../components/toast-message/ToastMessage';import CustomPagination from'../../../../components/custom-pagination/CustomPagination';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Permission(){const[problemList,setProblemList]=useState([]);const[pageCount,setPageCount]=useState(0);const[pagination,setPagination]=useState({page:1,size:10});const getProblemList=async()=>{try{const response=await employeeServices.getList(pagination);if(response.success){setProblemList(response.data);setPageCount(Math.ceil(response.total/pagination.size));}else{Toast.error(response.message);}}catch(error){Toast.error(error.message);}};const addProblem=async employeeData=>{try{const response=await employeeServices.addNew(employeeData);if(response.success){Toast.success(response.message);getProblemList();}else{Toast.error(response.message);}}catch(error){Toast.error(error.message||'An error occurred while adding employee');}};const handlePageClick=data=>{setPagination({page:data.selected,size:10});};useEffect(()=>{getProblemList();},[pagination]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CustomModalForm,{title:'Add new employee',properties:[{field:'Name',type:'input'},{field:'Age',type:'input-number'},{field:'Email',type:'input'},{field:'Address',type:'input'}],formID:\"addProblem\",modalID:\"employeeModal\",submitFunction:()=>addProblem('addProblem')}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#employeeModal\",children:\"Add problem\"})}),pageCount>0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CustomPagination,{pageCount:pageCount,handlePageClick:handlePageClick})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Table,{data:problemList})})]});}export default Permission;","map":{"version":3,"names":["CustomModalForm","employeeServices","Table","useState","useEffect","Toast","CustomPagination","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Permission","problemList","setProblemList","pageCount","setPageCount","pagination","setPagination","page","size","getProblemList","response","getList","success","data","Math","ceil","total","error","message","addProblem","employeeData","addNew","handlePageClick","selected","children","title","properties","field","type","formID","modalID","submitFunction","className"],"sources":["E:/project-exam/eProject---SEM-2/src/pages/cms/employees/permission/Permission.js"],"sourcesContent":["import CustomModalForm from '../../../../components/custom-modal/CustomModalForm';\r\nimport employeeServices from '../../../../services/employeServices/EmployeeServices';\r\nimport Table from '../../../../components/custom-table/CustomTable';\r\nimport { useState, useEffect } from 'react';\r\nimport Toast from '../../../../components/toast-message/ToastMessage';\r\nimport CustomPagination from '../../../../components/custom-pagination/CustomPagination';\r\n\r\nfunction Permission() {\r\n\tconst [problemList, setProblemList] = useState([]);\r\n\tconst [pageCount, setPageCount] = useState(0);\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tpage: 1,\r\n\t\tsize: 10,\r\n\t});\r\n\r\n\tconst getProblemList = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await employeeServices.getList(pagination);\r\n\t\t\tif (response.success) {\r\n\t\t\t\tsetProblemList(response.data);\r\n\t\t\t\tsetPageCount(Math.ceil(response.total / pagination.size));\r\n\t\t\t} else {\r\n\t\t\t\tToast.error(response.message);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tToast.error(error.message);\r\n\t\t}\r\n\t};\r\n\r\n\tconst addProblem = async (employeeData) => {\r\n\t\ttry {\r\n\t\t\tconst response = await employeeServices.addNew(employeeData);\r\n\t\t\tif (response.success) {\r\n\t\t\t\tToast.success(response.message);\r\n\t\t\t\tgetProblemList();\r\n\t\t\t} else {\r\n\t\t\t\tToast.error(response.message);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tToast.error(error.message || 'An error occurred while adding employee');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handlePageClick = (data) => {\r\n\t\tsetPagination({\r\n\t\t\tpage: data.selected,\r\n\t\t\tsize: 10,\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetProblemList();\r\n\t}, [pagination]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CustomModalForm\r\n\t\t\t\ttitle={'Add new employee'}\r\n\t\t\t\tproperties={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield: 'Name',\r\n\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield: 'Age',\r\n\t\t\t\t\t\ttype: 'input-number',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield: 'Email',\r\n\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield: 'Address',\r\n\t\t\t\t\t\ttype: 'input',\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tformID=\"addProblem\"\r\n\t\t\t\tmodalID=\"employeeModal\"\r\n\t\t\t\tsubmitFunction={() => addProblem('addProblem')}\r\n\t\t\t/>\r\n\t\t\t<div className=\"card-header d-flex justify-content-between\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\tdata-bs-toggle=\"modal\"\r\n\t\t\t\t\t\tdata-bs-target=\"#employeeModal\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAdd problem\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{pageCount > 0 && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<CustomPagination pageCount={pageCount} handlePageClick={handlePageClick} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t<Table data={problemList} />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Permission;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}