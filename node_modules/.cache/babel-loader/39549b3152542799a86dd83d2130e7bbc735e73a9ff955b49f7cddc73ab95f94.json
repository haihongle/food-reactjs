{"ast":null,"code":"import{useEffect,useState}from'react';import ImExDetailHistoryService from'../../../../services/accountantService/ImExDetailHistoryService';import ServiceMethods from'../../../../utils/ServiceMethods';import*as Yup from'yup';import CustomTable from'../../../../components/custom-table/CustomTable';import CardHeader from'../../../../components/card-header/CardHeader';import CustomModalDetail from'../../../../components/custom-modal/CustomModalDetail';import CustomModalForm from'../../../../components/custom-modal/CustomModalForm';import Toast from'../../../../components/toast-message/ToastMessage';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ImExDetailHistory(_ref){let{repType}=_ref;const[imExDetailHistory,setImExDetailHistory]=useState([]);const[pageCount,setPageCount]=useState(null);const user=JSON.parse(localStorage.getItem('user'));const[pagination,setPagination]=useState({page:0,size:10});const paginate=_ref2=>{let{selected}=_ref2;setPagination({page:selected,size:10});};useEffect(()=>{getRecipeList();},[pagination]);const getRecipeList=async page=>{try{const response=await ImExDetailHistoryService.getList(page,repType);if(response.success){setImExDetailHistory(response.data);setPageCount(Math.ceil(response.data.length/pagination.size));}else{Toast.error(response.message);}}catch(error){Toast.error(error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CardHeader,{pageCount:pageCount,paginateFunction:paginate}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(CustomTable,{data:imExDetailHistory,hiddenFields:['id','updatedAt','recipeId','materialId','createdBy','responsibleBy']})})]});}","map":{"version":3,"names":["useEffect","useState","ImExDetailHistoryService","ServiceMethods","Yup","CustomTable","CardHeader","CustomModalDetail","CustomModalForm","Toast","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ImExDetailHistory","_ref","repType","imExDetailHistory","setImExDetailHistory","pageCount","setPageCount","user","JSON","parse","localStorage","getItem","pagination","setPagination","page","size","paginate","_ref2","selected","getRecipeList","response","getList","success","data","Math","ceil","length","error","message","children","paginateFunction","className","hiddenFields"],"sources":["C:/Users/ADMIN/Desktop/testproject/src/pages/cms/accountant/im-ex-history/ImExDetailHistory.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport ImExDetailHistoryService from '../../../../services/accountantService/ImExDetailHistoryService';\r\nimport ServiceMethods from '../../../../utils/ServiceMethods';\r\nimport * as Yup from 'yup';\r\nimport CustomTable from '../../../../components/custom-table/CustomTable';\r\nimport CardHeader from '../../../../components/card-header/CardHeader';\r\nimport CustomModalDetail from '../../../../components/custom-modal/CustomModalDetail';\r\nimport CustomModalForm from '../../../../components/custom-modal/CustomModalForm';\r\nimport Toast from '../../../../components/toast-message/ToastMessage';\r\n\r\nexport default function ImExDetailHistory({ repType }) {\r\n\tconst [imExDetailHistory, setImExDetailHistory] = useState([]);\r\n\tconst [pageCount, setPageCount] = useState(null);\r\n\tconst user = JSON.parse(localStorage.getItem('user'));\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tpage: 0,\r\n\t\tsize: 10,\r\n\t});\r\n\r\n\tconst paginate = ({ selected }) => {\r\n\t\tsetPagination({\r\n\t\t\tpage: selected,\r\n\t\t\tsize: 10,\r\n\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tgetRecipeList();\r\n\t}, [pagination]);\r\n\r\n\tconst getRecipeList = async (page) => {\r\n\t\ttry {\r\n\t\t\tconst response = await ImExDetailHistoryService.getList(page, repType);\r\n\t\t\tif (response.success) {\r\n\t\t\t\tsetImExDetailHistory(response.data);\r\n\t\t\t\tsetPageCount(Math.ceil(response.data.length / pagination.size));\r\n\t\t\t} else {\r\n\t\t\t\tToast.error(response.message);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tToast.error(error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CardHeader pageCount={pageCount} paginateFunction={paginate} />\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t<CustomTable\r\n\t\t\t\t\tdata={imExDetailHistory}\r\n\t\t\t\t\thiddenFields={['id', 'updatedAt', 'recipeId', 'materialId', 'createdBy', 'responsibleBy']}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,wBAAwB,KAAM,iEAAiE,CACtG,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,MAAO,GAAK,CAAAC,GAAG,KAAM,KAAK,CAC1B,MAAO,CAAAC,WAAW,KAAM,iDAAiD,CACzE,MAAO,CAAAC,UAAU,KAAM,+CAA+C,CACtE,MAAO,CAAAC,iBAAiB,KAAM,uDAAuD,CACrF,MAAO,CAAAC,eAAe,KAAM,qDAAqD,CACjF,MAAO,CAAAC,KAAK,KAAM,mDAAmD,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtE,cAAe,SAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACpD,KAAM,CAACE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC9D,KAAM,CAACoB,SAAS,CAAEC,YAAY,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAAsB,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACrD,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,CAC5C6B,IAAI,CAAE,CAAC,CACPC,IAAI,CAAE,EACP,CAAC,CAAC,CAEF,KAAM,CAAAC,QAAQ,CAAGC,KAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,KAAA,CAC7BJ,aAAa,CAAC,CACbC,IAAI,CAAEI,QAAQ,CACdH,IAAI,CAAE,EACP,CAAC,CAAC,CACH,CAAC,CACD/B,SAAS,CAAC,IAAM,CACfmC,aAAa,CAAC,CAAC,CAChB,CAAC,CAAE,CAACP,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAO,aAAa,CAAG,KAAO,CAAAL,IAAI,EAAK,CACrC,GAAI,CACH,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAlC,wBAAwB,CAACmC,OAAO,CAACP,IAAI,CAAEZ,OAAO,CAAC,CACtE,GAAIkB,QAAQ,CAACE,OAAO,CAAE,CACrBlB,oBAAoB,CAACgB,QAAQ,CAACG,IAAI,CAAC,CACnCjB,YAAY,CAACkB,IAAI,CAACC,IAAI,CAACL,QAAQ,CAACG,IAAI,CAACG,MAAM,CAAGd,UAAU,CAACG,IAAI,CAAC,CAAC,CAChE,CAAC,IAAM,CACNtB,KAAK,CAACkC,KAAK,CAACP,QAAQ,CAACQ,OAAO,CAAC,CAC9B,CACD,CAAE,MAAOD,KAAK,CAAE,CACflC,KAAK,CAACkC,KAAK,CAACA,KAAK,CAAC,CACnB,CACD,CAAC,CAED,mBACC5B,KAAA,CAAAF,SAAA,EAAAgC,QAAA,eACClC,IAAA,CAACL,UAAU,EAACe,SAAS,CAAEA,SAAU,CAACyB,gBAAgB,CAAEd,QAAS,CAAE,CAAC,cAChErB,IAAA,QAAKoC,SAAS,CAAC,WAAW,CAAAF,QAAA,cACzBlC,IAAA,CAACN,WAAW,EACXkC,IAAI,CAAEpB,iBAAkB,CACxB6B,YAAY,CAAE,CAAC,IAAI,CAAE,WAAW,CAAE,UAAU,CAAE,YAAY,CAAE,WAAW,CAAE,eAAe,CAAE,CAC1F,CAAC,CACE,CAAC,EACL,CAAC,CAEL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}