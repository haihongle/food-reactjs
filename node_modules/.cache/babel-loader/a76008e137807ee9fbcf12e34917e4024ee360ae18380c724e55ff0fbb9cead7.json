{"ast":null,"code":"import React,{memo,useState}from'react';import{Link,useLocation}from'react-router-dom';import sidebar from'../../../config/SideBar.config';import styles from'./SideBar.module.scss';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SideBarItem=/*#__PURE__*/memo(_ref=>{var _item$children_item;let{item,isActive,onClick}=_ref;const storedUser=JSON.parse(localStorage.getItem('user'));const userRole=storedUser?storedUser.role:null;const hasAccess=item.roles.some(role=>role===userRole)||userRole==='BOSS';const location=useLocation();const isItemActive=isActive===item.path||location.pathname.split('/').pop()===item.path.split('/').pop();const isChildActive=(_item$children_item=item.children_item)===null||_item$children_item===void 0?void 0:_item$children_item.some(child=>location.pathname.split('/').pop()===child.path.split('/').pop());return/*#__PURE__*/_jsx(\"div\",{className:\"background-workspace border-0 pt-1 pb-1\",children:hasAccess&&item.has_children?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"cms_animate-hover pt-2 pb-2 \".concat(item.is_main?'ps-2':item.icon==='+'?'ps-5':'ps-4'),\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#\".concat(item.item_name,\"Accordion\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:item.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:item.is_main?/*#__PURE__*/_jsx(\"h5\",{className:\"ps-2\",children:item.item_name}):/*#__PURE__*/_jsx(\"span\",{children:item.item_name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-caret-right\",style:{marginTop:'13%'}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"accordion-collapse collapse \".concat(isChildActive?'show':''),id:\"\".concat(item.item_name,\"Accordion\"),\"data-bs-parent\":item.is_main?'#mainAccordion':undefined,children:item.children_item.map((child,index)=>/*#__PURE__*/_jsx(SideBarItem,{item:child,isActive:isActive,onClick:onClick},index))})]}):hasAccess?/*#__PURE__*/_jsx(Link,{className:\"\".concat(styles['hover-site'],\" \").concat(isItemActive?styles.activeSite:''),to:item.path,onClick:()=>onClick(item.path),children:/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2 pb-2 accordion-item background-workspace row g-0 rounded-0 border-0 \".concat(item.icon==='+'?'ps-5':'ps-4'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:item.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:item.item_name}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\"})]})}):null});});const SideBar=()=>{const[active,setActive]=useState(null);const handleActive=path=>{setActive(path);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-height d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 align-self-center text-center\",children:/*#__PURE__*/_jsx(Link,{to:'/cms/home',children:/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(styles['sidebar-home'],\" text-light fs-3 fw-bold user-select-none\"),children:\"HAPPY FOOD\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"accordion mt-2\",id:\"mainAccordion\",children:sidebar.map((item,index)=>/*#__PURE__*/_jsx(SideBarItem,{item:item,isActive:active,onClick:handleActive},index))})]});};export default/*#__PURE__*/memo(SideBar);","map":{"version":3,"names":["React","memo","useState","Link","useLocation","sidebar","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SideBarItem","_ref","_item$children_item","item","isActive","onClick","storedUser","JSON","parse","localStorage","getItem","userRole","role","hasAccess","roles","some","location","isItemActive","path","pathname","split","pop","isChildActive","children_item","child","className","children","has_children","concat","is_main","icon","item_name","style","marginTop","id","undefined","map","index","activeSite","to","SideBar","active","setActive","handleActive"],"sources":["C:/Users/ADMIN/Desktop/testproject/src/layouts/cms/side-bar/SideBar.js"],"sourcesContent":["import React, { memo, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport sidebar from '../../../config/SideBar.config';\r\nimport styles from './SideBar.module.scss';\r\n\r\nconst SideBarItem = memo(({ item, isActive, onClick }) => {\r\n\tconst storedUser = JSON.parse(localStorage.getItem('user'));\r\n\tconst userRole = storedUser ? storedUser.role : null;\r\n\tconst hasAccess = item.roles.some((role) => role === userRole) || userRole === 'BOSS';\r\n\tconst location = useLocation();\r\n\tconst isItemActive =\r\n\t\tisActive === item.path || location.pathname.split('/').pop() === item.path.split('/').pop();\r\n\tconst isChildActive = item.children_item?.some(\r\n\t\t(child) => location.pathname.split('/').pop() === child.path.split('/').pop()\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"background-workspace border-0 pt-1 pb-1\">\r\n\t\t\t{hasAccess && item.has_children ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`cms_animate-hover pt-2 pb-2 ${\r\n\t\t\t\t\t\t\titem.is_main ? 'ps-2' : item.icon === '+' ? 'ps-5' : 'ps-4'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\t\t\tdata-bs-target={`#${item.item_name}Accordion`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"row g-0\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\">{item.icon}</div>\r\n\t\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t\t{item.is_main ? (\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"ps-2\">{item.item_name}</h5>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span>{item.item_name}</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t<i className=\"fa-solid fa-caret-right\" style={{ marginTop: '13%' }}></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`accordion-collapse collapse ${isChildActive ? 'show' : ''}`}\r\n\t\t\t\t\t\tid={`${item.item_name}Accordion`}\r\n\t\t\t\t\t\tdata-bs-parent={item.is_main ? '#mainAccordion' : undefined}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{item.children_item.map((child, index) => (\r\n\t\t\t\t\t\t\t<SideBarItem key={index} item={child} isActive={isActive} onClick={onClick} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : hasAccess ? (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName={`${styles['hover-site']} ${isItemActive ? styles.activeSite : ''}`}\r\n\t\t\t\t\tto={item.path}\r\n\t\t\t\t\tonClick={() => onClick(item.path)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`pt-2 pb-2 accordion-item background-workspace row g-0 rounded-0 border-0 ${\r\n\t\t\t\t\t\t\titem.icon === '+' ? 'ps-5' : 'ps-4'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"col-1\">{item.icon}</div>\r\n\t\t\t\t\t\t<div className=\"col-9\">{item.item_name}</div>\r\n\t\t\t\t\t\t<div className=\"col-2\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nconst SideBar = () => {\r\n\tconst [active, setActive] = useState(null);\r\n\r\n\tconst handleActive = (path) => {\r\n\t\tsetActive(path);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"header-height d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"w-100 align-self-center text-center\">\r\n\t\t\t\t\t<Link to={'/cms/home'}>\r\n\t\t\t\t\t\t<span className={`${styles['sidebar-home']} text-light fs-3 fw-bold user-select-none`}>\r\n\t\t\t\t\t\t\tHAPPY FOOD\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"accordion mt-2\" id=\"mainAccordion\">\r\n\t\t\t\t{sidebar.map((item, index) => (\r\n\t\t\t\t\t<SideBarItem key={index} item={item} isActive={active} onClick={handleActive} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default memo(SideBar);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}