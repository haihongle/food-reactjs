{"ast":null,"code":"import axios from'axios';import{Cookies}from'react-cookie';const cookies=new Cookies();const baseURL='http://localhost:8080/api/v1';const app=axios.create({baseURL,headers:{'Content-type':'application/json'}});app.interceptors.request.use(config=>{const token=cookies.get('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});app.interceptors.response.use(response=>response,error=>{var _error$response,_error$response$data;const errMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.err)||'An unknown error occurred';return Promise.reject(errMessage);});export default app;","map":{"version":3,"names":["axios","Cookies","cookies","baseURL","app","create","headers","interceptors","request","use","config","token","get","Authorization","concat","error","Promise","reject","response","_error$response","_error$response$data","errMessage","data","err"],"sources":["E:/project-exam/eProject---SEM-2/src/api/baseApi.js"],"sourcesContent":["import axios from 'axios';\r\nimport { Cookies } from 'react-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst baseURL = 'http://localhost:8080/api/v1';\r\n\r\nconst app = axios.create({\r\n\tbaseURL,\r\n\theaders: {\r\n\t\t'Content-type': 'application/json',\r\n\t},\r\n});\r\n\r\napp.interceptors.request.use(\r\n\t(config) => {\r\n\t\tconst token = cookies.get('token');\r\n\t\tif (token) {\r\n\t\t\tconfig.headers.Authorization = `Bearer ${token}`;\r\n\t\t}\r\n\t\treturn config;\r\n\t},\r\n\t(error) => {\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n);\r\n\r\napp.interceptors.response.use(\r\n\t(response) => response,\r\n\t(error) => {\r\n\t\tconst errMessage = error.response?.data?.err || 'An unknown error occurred';\r\n\t\treturn Promise.reject(errMessage);\r\n\t}\r\n);\r\n\r\nexport default app;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,cAAc,CAEtC,KAAM,CAAAC,OAAO,CAAG,GAAI,CAAAD,OAAO,CAAC,CAAC,CAC7B,KAAM,CAAAE,OAAO,CAAG,8BAA8B,CAE9C,KAAM,CAAAC,GAAG,CAAGJ,KAAK,CAACK,MAAM,CAAC,CACxBF,OAAO,CACPG,OAAO,CAAE,CACR,cAAc,CAAE,kBACjB,CACD,CAAC,CAAC,CAEFF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC1BC,MAAM,EAAK,CACX,KAAM,CAAAC,KAAK,CAAGT,OAAO,CAACU,GAAG,CAAC,OAAO,CAAC,CAClC,GAAID,KAAK,CAAE,CACVD,MAAM,CAACJ,OAAO,CAACO,aAAa,WAAAC,MAAA,CAAaH,KAAK,CAAE,CACjD,CACA,MAAO,CAAAD,MAAM,CACd,CAAC,CACAK,KAAK,EAAK,CACV,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC7B,CACD,CAAC,CAEDX,GAAG,CAACG,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC3BS,QAAQ,EAAKA,QAAQ,CACrBH,KAAK,EAAK,KAAAI,eAAA,CAAAC,oBAAA,CACV,KAAM,CAAAC,UAAU,CAAG,EAAAF,eAAA,CAAAJ,KAAK,CAACG,QAAQ,UAAAC,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBG,IAAI,UAAAF,oBAAA,iBAApBA,oBAAA,CAAsBG,GAAG,GAAI,2BAA2B,CAC3E,MAAO,CAAAP,OAAO,CAACC,MAAM,CAACI,UAAU,CAAC,CAClC,CACD,CAAC,CAED,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}