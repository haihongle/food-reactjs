{"ast":null,"code":"import{useState,useEffect}from'react';import*as Yup from'yup';import employeeServices from'../../../../services/employeServices/EmployeeServices';import ServiceMethods from'../../../../utils/ServiceMethods';import CustomTable from'../../../../components/custom-table/CustomTable';import CardHeader from'../../../../components/card-header/CardHeader';import CustomModalDetail from'../../../../components/custom-modal/CustomModalDetail';import CustomModalForm from'../../../../components/custom-modal/CustomModalForm';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function EmployeeList(){const[employeeList,setEmployeeList]=useState([]);const[pageCount,setPageCount]=useState(0);const[detailData,setDetailData]=useState(null);const user=JSON.parse(localStorage.getItem('user'));const[pagination,setPagination]=useState({page:0,size:10});const paginate=_ref=>{let{selected}=_ref;setPagination({page:selected,size:10});};useEffect(()=>{getEmployeeList();},[pagination]);const getEmployeeList=async()=>{await ServiceMethods.get(employeeServices.getList,pagination,data=>{setEmployeeList(data);setPageCount(Math.ceil(data.length/pagination.size));});};const addEmployee=async values=>{await ServiceMethods.add(employeeServices.updateInformation,values,getEmployeeList);};const detailEmployee=async id=>{const data=await ServiceMethods.detail(employeeServices.getDetail,id);setDetailData(data);};const updateEmployee=async updatedData=>{const{menuDishId,menuDishName,materialList,...rest}=updatedData;const requestUpdatedData={...rest,name:menuDishName,menuDishDetailList:materialList,updatedBy:(user===null||user===void 0?void 0:user.username)||null};await ServiceMethods.update(employeeServices.updateInformation,menuDishId,requestUpdatedData,getEmployeeList);};// const arrayWithTwoObjects = [\n// \t{\n// \t\tid: 1,\n// \t\tname: 'John Doe',\n// \t\tage: 30,\n// \t\tgender: 'Male',\n// \t\toccupation: 'Engineer',\n// \t\tcity: 'New York',\n// \t\tcountry: 'USA',\n// \t\temail: 'john.doe@example.com',\n// \t\tphone: '123-456-7890',\n// \t},\n// \t{\n// \t\tid: 2,\n// \t\tname: 'Jane Smith',\n// \t\tage: 28,\n// \t\tgender: 'Female',\n// \t\toccupation: 'Designer',\n// \t\tcity: 'Los Angeles',\n// \t\tcountry: 'USA',\n// \t\temail: 'jane.smith@example.com',\n// \t\tphone: '987-654-3210',\n// \t},\n// \t{\n// \t\tid: 3,\n// \t\tname: 'Jane Smith',\n// \t\tage: 28,\n// \t\tgender: 'Female',\n// \t\toccupation: 'Designer',\n// \t\tcity: 'Los Angeles',\n// \t\tcountry: 'USA',\n// \t\temail: 'jane.smith@example.com',\n// \t\tphone: '987-654-3210',\n// \t},\n// \t{\n// \t\tid: 4,\n// \t\tname: 'Jane Smith',\n// \t\tage: 28,\n// \t\tgender: 'Female',\n// \t\toccupation: 'Designer',\n// \t\tcity: 'Los Angeles',\n// \t\tcountry: 'USA',\n// \t\temail: 'jane.smith@example.com',\n// \t\tphone: '987-654-3210',\n// \t},\n// \t{\n// \t\tid: 5,\n// \t\tname: 'Jane Smith',\n// \t\tage: 28,\n// \t\tgender: 'Female',\n// \t\toccupation: 'Designer',\n// \t\tcity: 'Los Angeles',\n// \t\tcountry: 'USA',\n// \t\temail: 'jane.smith@example.com',\n// \t\tphone: '987-654-3210',\n// \t},\n// ];\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CustomModalDetail,{detailData:detailData,actions:{update:updateEmployee},hiddenFields:[]}),/*#__PURE__*/_jsx(CardHeader,{pageCount:pageCount,paginateFunction:paginate}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(CustomTable,{data:employeeList,hiddenFields:['id']})})]});}export default EmployeeList;","map":{"version":3,"names":["useState","useEffect","Yup","employeeServices","ServiceMethods","CustomTable","CardHeader","CustomModalDetail","CustomModalForm","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","EmployeeList","employeeList","setEmployeeList","pageCount","setPageCount","detailData","setDetailData","user","JSON","parse","localStorage","getItem","pagination","setPagination","page","size","paginate","_ref","selected","getEmployeeList","get","getList","data","Math","ceil","length","addEmployee","values","add","updateInformation","detailEmployee","id","detail","getDetail","updateEmployee","updatedData","menuDishId","menuDishName","materialList","rest","requestUpdatedData","name","menuDishDetailList","updatedBy","username","update","children","actions","hiddenFields","paginateFunction","className"],"sources":["E:/project-exam/eProject---SEM-2/src/pages/cms/employees/employee-list/EmployeeList.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport * as Yup from 'yup';\r\nimport employeeServices from '../../../../services/employeServices/EmployeeServices';\r\nimport ServiceMethods from '../../../../utils/ServiceMethods';\r\nimport CustomTable from '../../../../components/custom-table/CustomTable';\r\nimport CardHeader from '../../../../components/card-header/CardHeader';\r\nimport CustomModalDetail from '../../../../components/custom-modal/CustomModalDetail';\r\nimport CustomModalForm from '../../../../components/custom-modal/CustomModalForm';\r\n\r\nfunction EmployeeList() {\r\n\tconst [employeeList, setEmployeeList] = useState([]);\r\n\tconst [pageCount, setPageCount] = useState(0);\r\n\tconst [detailData, setDetailData] = useState(null);\r\n\tconst user = JSON.parse(localStorage.getItem('user'));\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tpage: 0,\r\n\t\tsize: 10,\r\n\t});\r\n\r\n\tconst paginate = ({ selected }) => {\r\n\t\tsetPagination({\r\n\t\t\tpage: selected,\r\n\t\t\tsize: 10,\r\n\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tgetEmployeeList();\r\n\t}, [pagination]);\r\n\r\n\tconst getEmployeeList = async () => {\r\n\t\tawait ServiceMethods.get(employeeServices.getList, pagination, (data) => {\r\n\t\t\tsetEmployeeList(data);\r\n\t\t\tsetPageCount(Math.ceil(data.length / pagination.size));\r\n\t\t});\r\n\t};\r\n\r\n\tconst addEmployee = async (values) => {\r\n\t\tawait ServiceMethods.add(employeeServices.updateInformation, values, getEmployeeList);\r\n\t};\r\n\r\n\tconst detailEmployee = async (id) => {\r\n\t\tconst data = await ServiceMethods.detail(employeeServices.getDetail, id);\r\n\t\tsetDetailData(data);\r\n\t};\r\n\r\n\tconst updateEmployee = async (updatedData) => {\r\n\t\tconst { menuDishId, menuDishName, materialList, ...rest } = updatedData;\r\n\t\tconst requestUpdatedData = {\r\n\t\t\t...rest,\r\n\t\t\tname: menuDishName,\r\n\t\t\tmenuDishDetailList: materialList,\r\n\t\t\tupdatedBy: user?.username || null,\r\n\t\t};\r\n\t\tawait ServiceMethods.update(\r\n\t\t\temployeeServices.updateInformation,\r\n\t\t\tmenuDishId,\r\n\t\t\trequestUpdatedData,\r\n\t\t\tgetEmployeeList\r\n\t\t);\r\n\t};\r\n\r\n\t// const arrayWithTwoObjects = [\r\n\t// \t{\r\n\t// \t\tid: 1,\r\n\t// \t\tname: 'John Doe',\r\n\t// \t\tage: 30,\r\n\t// \t\tgender: 'Male',\r\n\t// \t\toccupation: 'Engineer',\r\n\t// \t\tcity: 'New York',\r\n\t// \t\tcountry: 'USA',\r\n\t// \t\temail: 'john.doe@example.com',\r\n\t// \t\tphone: '123-456-7890',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tid: 2,\r\n\t// \t\tname: 'Jane Smith',\r\n\t// \t\tage: 28,\r\n\t// \t\tgender: 'Female',\r\n\t// \t\toccupation: 'Designer',\r\n\t// \t\tcity: 'Los Angeles',\r\n\t// \t\tcountry: 'USA',\r\n\t// \t\temail: 'jane.smith@example.com',\r\n\t// \t\tphone: '987-654-3210',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tid: 3,\r\n\t// \t\tname: 'Jane Smith',\r\n\t// \t\tage: 28,\r\n\t// \t\tgender: 'Female',\r\n\t// \t\toccupation: 'Designer',\r\n\t// \t\tcity: 'Los Angeles',\r\n\t// \t\tcountry: 'USA',\r\n\t// \t\temail: 'jane.smith@example.com',\r\n\t// \t\tphone: '987-654-3210',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tid: 4,\r\n\t// \t\tname: 'Jane Smith',\r\n\t// \t\tage: 28,\r\n\t// \t\tgender: 'Female',\r\n\t// \t\toccupation: 'Designer',\r\n\t// \t\tcity: 'Los Angeles',\r\n\t// \t\tcountry: 'USA',\r\n\t// \t\temail: 'jane.smith@example.com',\r\n\t// \t\tphone: '987-654-3210',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tid: 5,\r\n\t// \t\tname: 'Jane Smith',\r\n\t// \t\tage: 28,\r\n\t// \t\tgender: 'Female',\r\n\t// \t\toccupation: 'Designer',\r\n\t// \t\tcity: 'Los Angeles',\r\n\t// \t\tcountry: 'USA',\r\n\t// \t\temail: 'jane.smith@example.com',\r\n\t// \t\tphone: '987-654-3210',\r\n\t// \t},\r\n\t// ];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CustomModalDetail\r\n\t\t\t\tdetailData={detailData}\r\n\t\t\t\tactions={{ update: updateEmployee }}\r\n\t\t\t\thiddenFields={[]}\r\n\t\t\t/>\r\n\t\t\t<CardHeader pageCount={pageCount} paginateFunction={paginate} />\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t<CustomTable data={employeeList} hiddenFields={['id']} />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default EmployeeList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}