{"ast":null,"code":"import{useEffect,useState}from'react';import InventoryHistoryService from'../../../../services/warehouseServices/InventoryHistoryService';import ServiceMethods from'../../../../utils/ServiceMethods';import CustomTable from'../../../../components/custom-table/CustomTable';import CardHeader from'../../../../components/card-header/CardHeader';import CustomModalDetail from'../../../../components/custom-modal/CustomModalDetail';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function InventoryHistory(){const[inventoryHistory,setInventoryHistory]=useState([]);const[pageCount,setPageCount]=useState(null);const[detailData,setDetailData]=useState(null);const user=JSON.parse(localStorage.getItem('user'));const[pagination,setPagination]=useState({page:0,size:10});const paginate=_ref=>{let{selected}=_ref;setPagination({page:selected,size:10});};useEffect(()=>{getInventoryHistoryList();},[pagination]);const getInventoryHistoryList=async()=>{await ServiceMethods.get(InventoryHistoryService.getList,pagination,data=>{setInventoryHistory(data);setPageCount(Math.ceil(data.length/pagination.size));});};const detailInventoryHistory=async id=>{const data=await ServiceMethods.detail(InventoryHistoryService.getDetail,id);setDetailData(data);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CardHeader,{pageCount:pageCount,paginateFunction:paginate,detailData:detailData,hiddenFields:['id']}),/*#__PURE__*/_jsx(CustomModalDetail,{detailData:detailData,hiddenFields:['id']}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(CustomTable,{data:inventoryHistory,actions:{detail:detailInventoryHistory},hiddenFields:['id','updatedAt','createdAt','reportedBy']})})]});}","map":{"version":3,"names":["useEffect","useState","InventoryHistoryService","ServiceMethods","CustomTable","CardHeader","CustomModalDetail","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","InventoryHistory","inventoryHistory","setInventoryHistory","pageCount","setPageCount","detailData","setDetailData","user","JSON","parse","localStorage","getItem","pagination","setPagination","page","size","paginate","_ref","selected","getInventoryHistoryList","get","getList","data","Math","ceil","length","detailInventoryHistory","id","detail","getDetail","children","paginateFunction","hiddenFields","className","actions"],"sources":["E:/project-exam/eProject---SEM-2/src/pages/cms/warehouse/inventory/InventoryHistory.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport InventoryHistoryService from '../../../../services/warehouseServices/InventoryHistoryService';\r\nimport ServiceMethods from '../../../../utils/ServiceMethods';\r\nimport CustomTable from '../../../../components/custom-table/CustomTable';\r\nimport CardHeader from '../../../../components/card-header/CardHeader';\r\nimport CustomModalDetail from '../../../../components/custom-modal/CustomModalDetail';\r\n\r\nexport default function InventoryHistory() {\r\n\tconst [inventoryHistory, setInventoryHistory] = useState([]);\r\n\tconst [pageCount, setPageCount] = useState(null);\r\n\tconst [detailData, setDetailData] = useState(null);\r\n\tconst user = JSON.parse(localStorage.getItem('user'));\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tpage: 0,\r\n\t\tsize: 10,\r\n\t});\r\n\r\n\tconst paginate = ({ selected }) => {\r\n\t\tsetPagination({\r\n\t\t\tpage: selected,\r\n\t\t\tsize: 10,\r\n\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tgetInventoryHistoryList();\r\n\t}, [pagination]);\r\n\r\n\tconst getInventoryHistoryList = async () => {\r\n\t\tawait ServiceMethods.get(InventoryHistoryService.getList, pagination, (data) => {\r\n\t\t\tsetInventoryHistory(data);\r\n\t\t\tsetPageCount(Math.ceil(data.length / pagination.size));\r\n\t\t});\r\n\t};\r\n\r\n\tconst detailInventoryHistory = async (id) => {\r\n\t\tconst data = await ServiceMethods.detail(InventoryHistoryService.getDetail, id);\r\n\t\tsetDetailData(data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CardHeader\r\n\t\t\t\tpageCount={pageCount}\r\n\t\t\t\tpaginateFunction={paginate}\r\n\t\t\t\tdetailData={detailData}\r\n\t\t\t\thiddenFields={['id']}\r\n\t\t\t/>\r\n\t\t\t<CustomModalDetail detailData={detailData} hiddenFields={['id']} />\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t<CustomTable\r\n\t\t\t\t\tdata={inventoryHistory}\r\n\t\t\t\t\tactions={{\r\n\t\t\t\t\t\tdetail: detailInventoryHistory,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\thiddenFields={['id', 'updatedAt', 'createdAt', 'reportedBy']}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,uBAAuB,KAAM,gEAAgE,CACpG,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,MAAO,CAAAC,WAAW,KAAM,iDAAiD,CACzE,MAAO,CAAAC,UAAU,KAAM,+CAA+C,CACtE,MAAO,CAAAC,iBAAiB,KAAM,uDAAuD,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtF,cAAe,SAAS,CAAAC,gBAAgBA,CAAA,CAAG,CAC1C,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACe,SAAS,CAAEC,YAAY,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACiB,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAAAmB,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACrD,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGzB,QAAQ,CAAC,CAC5C0B,IAAI,CAAE,CAAC,CACPC,IAAI,CAAE,EACP,CAAC,CAAC,CAEF,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC7BJ,aAAa,CAAC,CACbC,IAAI,CAAEI,QAAQ,CACdH,IAAI,CAAE,EACP,CAAC,CAAC,CACH,CAAC,CACD5B,SAAS,CAAC,IAAM,CACfgC,uBAAuB,CAAC,CAAC,CAC1B,CAAC,CAAE,CAACP,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAO,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CAC3C,KAAM,CAAA7B,cAAc,CAAC8B,GAAG,CAAC/B,uBAAuB,CAACgC,OAAO,CAAET,UAAU,CAAGU,IAAI,EAAK,CAC/EpB,mBAAmB,CAACoB,IAAI,CAAC,CACzBlB,YAAY,CAACmB,IAAI,CAACC,IAAI,CAACF,IAAI,CAACG,MAAM,CAAGb,UAAU,CAACG,IAAI,CAAC,CAAC,CACvD,CAAC,CAAC,CACH,CAAC,CAED,KAAM,CAAAW,sBAAsB,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC5C,KAAM,CAAAL,IAAI,CAAG,KAAM,CAAAhC,cAAc,CAACsC,MAAM,CAACvC,uBAAuB,CAACwC,SAAS,CAAEF,EAAE,CAAC,CAC/ErB,aAAa,CAACgB,IAAI,CAAC,CACpB,CAAC,CAED,mBACCvB,KAAA,CAAAF,SAAA,EAAAiC,QAAA,eACCnC,IAAA,CAACH,UAAU,EACVW,SAAS,CAAEA,SAAU,CACrB4B,gBAAgB,CAAEf,QAAS,CAC3BX,UAAU,CAAEA,UAAW,CACvB2B,YAAY,CAAE,CAAC,IAAI,CAAE,CACrB,CAAC,cACFrC,IAAA,CAACF,iBAAiB,EAACY,UAAU,CAAEA,UAAW,CAAC2B,YAAY,CAAE,CAAC,IAAI,CAAE,CAAE,CAAC,cACnErC,IAAA,QAAKsC,SAAS,CAAC,WAAW,CAAAH,QAAA,cACzBnC,IAAA,CAACJ,WAAW,EACX+B,IAAI,CAAErB,gBAAiB,CACvBiC,OAAO,CAAE,CACRN,MAAM,CAAEF,sBACT,CAAE,CACFM,YAAY,CAAE,CAAC,IAAI,CAAE,WAAW,CAAE,WAAW,CAAE,YAAY,CAAE,CAC7D,CAAC,CACE,CAAC,EACL,CAAC,CAEL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}