{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\testproject\\\\src\\\\pages\\\\userinfor\\\\UserProfile.js\",\n  _s = $RefreshSig$();\nimport { Navigate } from 'react-router';\nimport { useCookies } from 'react-cookie';\nimport jwtDecode from 'jwt-decode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = ({\n  roles,\n  children\n}) => {\n  _s();\n  const [cookies] = useCookies(['token']);\n  const token = cookies.token;\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/cms/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 12\n    }, this);\n  }\n  try {\n    const decodedToken = jwtDecode(token);\n    if (roles && !roles.includes(decodedToken.role)) {\n      // Chuyển hướng người dùng không có quyền\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 14\n      }, this);\n    }\n    return children;\n  } catch (error) {\n    // Nếu lỗi xảy ra, chuyển hướng về trang login\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/cms/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 12\n    }, this);\n  }\n};\n_s(PrivateRoute, \"KWItf4Qn7XyeOw4JKNC6dqw2Uu4=\", false, function () {\n  return [useCookies];\n});\n_c = PrivateRoute;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["Navigate","useCookies","jwtDecode","jsxDEV","_jsxDEV","PrivateRoute","roles","children","_s","cookies","token","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","decodedToken","includes","role","error","_c","UserProfile","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/testproject/src/pages/userinfor/UserProfile.js"],"sourcesContent":["import { Navigate } from 'react-router';\r\nimport { useCookies } from 'react-cookie';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst PrivateRoute = ({ roles, children }) => {\r\n  const [cookies] = useCookies(['token']);\r\n  const token = cookies.token;\r\n\r\n  if (!token) {\r\n    return <Navigate to=\"/cms/login\" replace />;\r\n  }\r\n\r\n  try {\r\n    const decodedToken = jwtDecode(token);\r\n    if (roles && !roles.includes(decodedToken.role)) {\r\n      // Chuyển hướng người dùng không có quyền\r\n      return <Navigate to=\"/\" replace />;\r\n    }\r\n    return children;\r\n  } catch (error) {\r\n    // Nếu lỗi xảy ra, chuyển hướng về trang login\r\n    return <Navigate to=\"/cms/login\" replace />;\r\n  }\r\n};\r\nexport default UserProfile;\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,cAAc;AACvC,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,SAAS,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,YAAY,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,OAAO,CAAC,GAAGR,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;EACvC,MAAMS,KAAK,GAAGD,OAAO,CAACC,KAAK;EAE3B,IAAI,CAACA,KAAK,EAAE;IACV,oBAAON,OAAA,CAACJ,QAAQ;MAACW,EAAE,EAAC,YAAY;MAACC,OAAO;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC7C;EAEA,IAAI;IACF,MAAMC,YAAY,GAAGf,SAAS,CAACQ,KAAK,CAAC;IACrC,IAAIJ,KAAK,IAAI,CAACA,KAAK,CAACY,QAAQ,CAACD,YAAY,CAACE,IAAI,CAAC,EAAE;MAC/C;MACA,oBAAOf,OAAA,CAACJ,QAAQ;QAACW,EAAE,EAAC,GAAG;QAACC,OAAO;MAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACpC;IACA,OAAOT,QAAQ;EACjB,CAAC,CAAC,OAAOa,KAAK,EAAE;IACd;IACA,oBAAOhB,OAAA,CAACJ,QAAQ;MAACW,EAAE,EAAC,YAAY;MAACC,OAAO;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC7C;AACF,CAAC;AAACR,EAAA,CAnBIH,YAAY;EAAA,QACEJ,UAAU;AAAA;AAAAoB,EAAA,GADxBhB,YAAY;AAoBlB,eAAeiB,WAAW;AAAC,IAAAD,EAAA;AAAAE,YAAA,CAAAF,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}