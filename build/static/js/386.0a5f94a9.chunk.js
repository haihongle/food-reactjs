"use strict";(self.webpackChunkfoodstorecms=self.webpackChunkfoodstorecms||[]).push([[386],{8488:(e,s,a)=>{a.d(s,{A:()=>o});var l=a(6213);const r=new(a(4750).A),n=l.A.create({baseURL:"http://localhost:8080/api/v1",headers:{"Content-type":"application/json"}});n.interceptors.request.use((e=>{const s=r.get("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>{var s,a;const l=(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.err)||"An unknown error occurred";return Promise.reject(l)}));const o=n},2386:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var l=a(3892),r=a(3280),n=a(8488);const o={createAccount:async function(e){try{console.log(e);return(await n.A.post("/user-info/create-user",e)).data}catch(s){throw s}},deleteAccount:async function(e){try{return(await n.A.delete("/account/".concat(e))).data}catch(s){throw s}}};var t=a(2773),c=a(3216),m=a(579);const i=r.Ik().shape({fullName:r.Yj().required("Please enter full name"),username:r.Yj().min(3,"Username must be at least 3 characters!").max(50,"Too Long!").required("Please enter username"),password:r.Yj().required("Please enter password").matches(/^(?=.*[A-Z])(?=.*[!@#\$%\^&\*])(?=.{6,})/,"Must Contain at least 6 Characters, One Uppercase and One Special Case Character"),email:r.Yj().email("Invalid email").required("Please enter email"),phone:r.Yj().matches(/^(\+\d{1,3}[- ]?)?\d{10}$/,"Invalid phone number").required("Please enter phone number"),role:r.Yj().required("Please select role"),description:r.Yj()});const d=function(){const e=(0,c.Zp)();return(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"col-md-5 m-auto border border-1 p-4 rounded-4",children:[(0,m.jsx)("h3",{className:"text-center",children:"Create user"}),(0,m.jsx)("hr",{}),(0,m.jsx)(l.l1,{initialValues:{fullName:"",username:"",password:"",email:"",phone:"",role:"",description:""},validationSchema:i,onSubmit:async s=>{try{const a=await o.createAccount(s);a.success?(t.A.success(a.message),e("/cms/employees/employee-list")):t.A.error(a.message)}catch(a){t.A.error(a)}},children:e=>{let{errors:s,touched:a,handleChange:r}=e;return(0,m.jsxs)(l.lV,{children:[(0,m.jsxs)("div",{className:"row g-3",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{className:"w-100",htmlFor:"fullName",children:(0,m.jsx)("p",{className:"fw-semibold",children:"Full name"})}),(0,m.jsx)(l.D0,{className:"form-control mt-1 shadow-none p-2",name:"fullName",type:"text",onChange:r,placeholder:"Enter full name..."}),s.fullName&&a.fullName?(0,m.jsxs)("span",{className:"form-warning text-danger fw-medium",children:["*",s.fullName]}):null]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{htmlFor:"username",children:(0,m.jsx)("p",{className:"fw-semibold",children:"Username"})}),(0,m.jsx)(l.D0,{className:"form-control mt-1 shadow-none p-2",name:"username",type:"text",onChange:r,placeholder:"Enter password..."}),s.username&&a.username?(0,m.jsxs)("div",{className:"form-warning text-danger fw-medium",children:["* ",s.username]}):null]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{htmlFor:"password",children:(0,m.jsx)("p",{className:"fw-semibold",children:"Password"})}),(0,m.jsx)(l.D0,{className:"form-control mt-1 shadow-none p-2",name:"password",type:"password",onChange:r,placeholder:"Enter password...",autoComplete:"off"}),s.password&&a.password?(0,m.jsxs)("div",{className:"form-warning text-danger fw-medium",children:["* ",s.password]}):null]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{htmlFor:"role",children:(0,m.jsx)("p",{className:"fw-semibold",children:"Role"})}),(0,m.jsxs)(l.D0,{as:"select",className:"form-select mt-1 shadow-none p-2 selectarrow",name:"role",onChange:r,children:[(0,m.jsx)("option",{value:"",label:"Select role..."}),(0,m.jsx)("option",{value:"KITCHEN",label:"Kitchen"}),(0,m.jsx)("option",{value:"ACCOUNTANT",label:"Accountant"}),(0,m.jsx)("option",{value:"SALE",label:"Sale Executive"}),(0,m.jsx)("option",{value:"MARKETING",label:"Marketing"}),(0,m.jsx)("option",{value:"SHIPPER",label:"Shipper"}),(0,m.jsx)("option",{value:"MANAGER",label:"Manager"})]}),s.role&&a.role?(0,m.jsxs)("div",{className:"form-warning text-danger fw-medium",children:["* ",s.role]}):null]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{htmlFor:"email",children:(0,m.jsx)("p",{className:"fw-semibold",children:"Email"})}),(0,m.jsx)(l.D0,{className:"form-control mt-1 shadow-none p-2",name:"email",type:"email",onChange:r,placeholder:"Enter email..."}),s.email&&a.email?(0,m.jsxs)("div",{className:"form-warning text-danger fw-medium",children:["* ",s.email]}):null]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{htmlFor:"phone",children:(0,m.jsx)("p",{className:"fw-semibold",children:"Phone number"})}),(0,m.jsx)(l.D0,{className:"form-control mt-1 shadow-none p-2",name:"phone",type:"text",onChange:r,placeholder:"Enter phone number..."}),s.phone&&a.phone?(0,m.jsxs)("div",{className:"form-warning text-danger fw-medium",children:["* ",s.phone]}):null]}),(0,m.jsxs)("div",{className:"col-12",children:[(0,m.jsx)("label",{htmlFor:"description",children:(0,m.jsx)("p",{className:"fw-semibold",children:"Description"})}),(0,m.jsx)(l.D0,{as:"textarea",className:"form-control mt-1 shadow-none p-2",name:"description"})]})]}),(0,m.jsx)("button",{className:"btn btn-primary mt-4 w-100 p-2 fw-semibold",type:"submit",children:"Create"})]})}})]})})}}}]);
//# sourceMappingURL=386.0a5f94a9.chunk.js.map