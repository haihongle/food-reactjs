"use strict";(self.webpackChunkfoodstorecms=self.webpackChunkfoodstorecms||[]).push([[64],{8488:(e,a,t)=>{t.d(a,{A:()=>c});var s=t(6213);const n=new(t(4750).A),r=s.A.create({baseURL:"http://localhost:8080/api/v1",headers:{"Content-type":"application/json"}});r.interceptors.request.use((e=>{const a=n.get("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>{var a,t;const s=(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.err)||"An unknown error occurred";return Promise.reject(s)}));const c=r},5064:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});var s=t(5043);const n={container:"Home_container__576gJ",menuContent:"Home_menuContent__-U57C",slideInFromRight:"Home_slideInFromRight__r9Pqe",mainContent:"Home_mainContent__9bs1X",slideIn:"Home_slideIn__i7f4w",leftSection:"Home_leftSection__n6wKT",orderNowBtn:"Home_orderNowBtn__SE0ei",rightSection:"Home_rightSection__IpQJ4",offerCircle:"Home_offerCircle__0SY9U",productCards:"Home_productCards__lYlDs",card:"Home_card__mAPUv",price:"Home_price__vli1n",orderBtn:"Home_orderBtn__e19HV",pagination:"Home_pagination__8Rtx9",header:"Home_header__WH5TC",navMenu:"Home_navMenu__Gb-Bs",searchBar:"Home_searchBar__LyhNN",headerRight:"Home_headerRight__gA1L5",sidebar:"Home_sidebar__E6K3X"};var r=t(5698),c=t(2773),i=t(3216),o=t(579);const l=function(){const[e,a]=(0,s.useState)(1),[t,l]=(0,s.useState)(0),[d,m]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),{updateCartCount:j}=(0,i.KC)(),_=[{image:"/images/pizza.jpg"},{image:"/images/burger.jpg"},{image:"/images/sushi.jpg"},{image:"/images/cake.jpg"},{image:"/images/kfc.jpg"},{image:"/images/bread.jpg"},{image:"/images/rice.jpg"},{image:"/images/donut.jpg"},{image:"/images/banhbao.jpg"},{image:"/images/trungchien.jpg"},{image:"/images/thitkhotau.jpg"}],x=["/images/pizza.jpg","/images/kfc.jpg","/images/burger.jpg","/images/banhbao.jpg"],[v,f]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async e=>{console.log(v);try{const a=!0,t=await r.A.getList(e,a);t.success?f(t.data):c.A.error(t.message)}catch(a){c.A.error(a)}})()}),[]),(0,s.useEffect)((()=>{const e=setInterval((()=>{l((e=>(e+1)%x.length))}),3e3);return()=>clearInterval(e)}),[]);const N=Math.ceil(v.length/7),b=(0,s.useMemo)((()=>v.filter((e=>{const a=!d||e.category===d,t=!h||e.price>=h[0]&&e.price<=h[1],s=e.name.toLowerCase().includes(u.toLowerCase());return a&&t&&s}))),[v,d,h,u]),C=(0,s.useMemo)((()=>{const a=7*(e-1),t=a+7;return b.slice(a,t)}),[b,e]),y=[...new Set(v.map((e=>e.category)))],w=[{label:"D\u01b0\u1edbi 50k",value:[0,5e4]},{label:"50k - 100k",value:[5e4,1e5]},{label:"Tr\xean 100k",value:[1e5,1/0]}];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("main",{className:n.mainContent,children:[(0,o.jsxs)("div",{className:n.leftSection,children:[(0,o.jsx)("h2",{children:"Healthy & Quality"}),(0,o.jsx)("h1",{children:"Delicious Food Menu"})]}),(0,o.jsx)("div",{className:n.rightSection,children:(0,o.jsx)("img",{src:"".concat("").concat(x[t]),alt:"Food",className:n.foodImage})}),(0,o.jsx)("div",{className:n.offerCircle,children:(0,o.jsxs)("p",{children:["Up to",(0,o.jsx)("br",{}),"Save",(0,o.jsx)("br",{}),"50% off !"]})})]}),(0,o.jsx)("div",{className:n.menuContent,children:"Our Menu"}),(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"row g-5",children:[(0,o.jsxs)("div",{className:"col-md-4",children:[(0,o.jsx)("h3",{className:"mb-2",children:"Search"}),(0,o.jsx)("input",{type:"text",placeholder:"Search menu...",value:u,className:"form-control",onChange:e=>p(e.target.value)})]}),(0,o.jsxs)("div",{className:"col-md-4",children:[(0,o.jsx)("h3",{className:"mb-2",children:"Category"}),(0,o.jsxs)("select",{className:"form-select",onChange:e=>m(e.target.value),value:d,children:[(0,o.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3"}),y.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))]})]}),(0,o.jsxs)("div",{className:"col-md-4",children:[(0,o.jsx)("h3",{className:"mb-2",children:"Price Range"}),(0,o.jsx)("div",{className:"d-flex",children:w.map((e=>(0,o.jsxs)("div",{className:"form-check",children:[(0,o.jsx)("input",{type:"radio",name:"priceRange",id:e.label,value:e.label,onChange:()=>g(e.value)}),(0,o.jsx)("label",{htmlFor:e.label,children:e.label})]},e.label)))})]})]})}),(0,o.jsx)("div",{className:n.productCards,children:C.map(((e,a)=>(0,o.jsxs)("div",{className:n.card,children:[null==e.image||void 0==e.image?(0,o.jsx)("img",{src:_[a<_.length?a:1].image}):(0,o.jsx)("img",{src:e.image}),(0,o.jsx)("h3",{children:e.name}),(0,o.jsxs)("span",{children:["Category: ",(0,o.jsx)("strong",{children:e.category})]}),(0,o.jsxs)("p",{className:n.price,children:["Price ",e.price.toFixed(3)," VN\u0110"]}),(0,o.jsx)("button",{className:n.orderBtn,onClick:()=>(e=>{let a=JSON.parse(localStorage.getItem("order"))||[];a.find((a=>a.id===e.id))?c.A.info("".concat(e.name," is already in the cart.")):(a.push({...e,quantity:1}),c.A.success("".concat(e.name," added to cart."))),localStorage.setItem("order",JSON.stringify(a)),j(),console.log(JSON.stringify(a))})(e),children:"Order Now"})]},e.name)))}),(0,o.jsxs)("div",{className:n.pagination,children:[(0,o.jsx)("button",{onClick:()=>{a((e=>Math.max(e-1,1)))},disabled:1===e,children:"Previous"}),(0,o.jsxs)("span",{children:["Page ",e," of ",N]}),(0,o.jsx)("button",{onClick:()=>{a((e=>Math.min(e+1,N)))},disabled:e===N,children:"Next"})]})]})}},5698:(e,a,t)=>{t.d(a,{A:()=>r});var s=t(8488);const n="menu-dish",r={getList:async function(e,a){try{const t={...e,isActive:a};return(await s.A.get(n,{params:t})).data}catch(t){throw t}},updateDish:async function(e,a){try{return(await s.A.patch("/".concat(n,"/").concat(e),a)).data}catch(t){throw t}},createNew:async function(e){try{return(await s.A.post(n,e)).data}catch(a){throw a}},getDetail:async function(e){try{return(await s.A.get("/".concat(n,"/").concat(e))).data}catch(a){throw a}},deleteDish:async function(e){try{return(await s.A.delete("/".concat(n,"/toggle/").concat(e))).data}catch(a){throw a}},activeDish:async function(e){try{return(await s.A.patch("".concat(n,"/toggle/").concat(e))).data}catch(a){throw a}}}}}]);
//# sourceMappingURL=64.495b8471.chunk.js.map