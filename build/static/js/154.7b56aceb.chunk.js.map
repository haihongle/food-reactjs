{"version":3,"file":"static/js/154.7b56aceb.chunk.js","mappings":"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","sources":["api/baseApi.js","pages/client/cart/Cart.js","services/orderServices/OrderService.js"],"sourcesContent":["import axios from 'axios';\r\nimport { Cookies } from 'react-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst baseURL = 'http://localhost:8080/api/v1';\r\n\r\nconst app = axios.create({\r\n\tbaseURL,\r\n\theaders: {\r\n\t\t'Content-type': 'application/json',\r\n\t},\r\n});\r\n\r\napp.interceptors.request.use(\r\n\t(config) => {\r\n\t\tconst token = cookies.get('token');\r\n\t\tif (token) {\r\n\t\t\tconfig.headers.Authorization = `Bearer ${token}`;\r\n\t\t}\r\n\t\treturn config;\r\n\t},\r\n\t(error) => {\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n);\r\n\r\napp.interceptors.response.use(\r\n\t(response) => response,\r\n\t(error) => {\r\n\t\tconst errMessage = error.response?.data?.err || 'An unknown error occurred';\r\n\t\treturn Promise.reject(errMessage);\r\n\t}\r\n);\r\n\r\nexport default app;\r\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport Toast from '../../../components/toast-message/ToastMessage';\r\nimport orderServices from '../../../services/orderServices/OrderService';\r\nimport { useOutletContext } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport { Formik, Form, Field } from 'formik';\r\n\r\nfunction Cart() {\r\n\tconst [orders, setOrders] = useState([]);\r\n\tconst { updateCartCount } = useOutletContext();\r\n\r\n\tconst images = [\r\n\t\t{ id: 1, image: '/images/pizza.jpg' },\r\n\t\t{ id: 2, image: '/images/burger.jpg' },\r\n\t\t{ id: 3, image: '/images/sushi.jpg' },\r\n\t\t{ id: 4, image: '/images/cake.jpg' },\r\n\t\t{ id: 5, image: '/images/kfc.jpg' },\r\n\t\t{ id: 6, image: '/images/bread.jpg' },\r\n\t\t{ id: 7, image: '/images/rice.jpg' },\r\n\t\t{ id: 8, image: '/images/donut.jpg' },\r\n\t\t{ id: 9, image: '/images/banhbao.jpg' },\r\n\t\t{ id: 10, image: '/images/trungchien.jpg' },\r\n\t\t{ id: 11, image: '/images/thitkhotau.jpg' },\r\n\t];\r\n\r\n\tuseEffect(() => {\r\n\t\tconst storedOrders = JSON.parse(localStorage.getItem('order')) || [];\r\n\t\tsetOrders(storedOrders);\r\n\t}, []);\r\n\r\n\tconst addToCart = useCallback((order, quantity) => {\r\n\t\tsetOrders((prevOrders) => {\r\n\t\t\tconst existingOrder = prevOrders.find((item) => item.id === order.id);\r\n\t\t\tif (existingOrder) {\r\n\t\t\t\treturn prevOrders.map((item) =>\r\n\t\t\t\t\titem.id === order.id ? { ...item, quantity: item.quantity + quantity } : item\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn [...prevOrders, { ...order, quantity }];\r\n\t\t\t}\r\n\t\t});\r\n\t\tconsole.log(order, quantity);\r\n\t}, []);\r\n\r\n\tconst handleRemoveItem = useCallback(\r\n\t\t(id) => {\r\n\t\t\tconst updatedOrders = orders.filter((order) => order.id !== id);\r\n\t\t\tsetOrders(updatedOrders);\r\n\t\t\tlocalStorage.setItem('order', JSON.stringify(updatedOrders));\r\n\t\t\tupdateCartCount();\r\n\t\t},\r\n\t\t[orders]\r\n\t);\r\n\r\n\tconst handleIncreaseQuantity = useCallback(\r\n\t\t(id) => {\r\n\t\t\taddToCart(\r\n\t\t\t\torders.find((order) => order.id === id),\r\n\t\t\t\t1\r\n\t\t\t);\r\n\t\t},\r\n\t\t[orders, addToCart]\r\n\t);\r\n\r\n\tconst handleDecreaseQuantity = useCallback(\r\n\t\t(id) => {\r\n\t\t\tconst order = orders.find((order) => order.id === id);\r\n\t\t\tif (order && order.quantity > 1) {\r\n\t\t\t\taddToCart(order, -1);\r\n\t\t\t\tupdateCartCount();\r\n\t\t\t} else {\r\n\t\t\t\thandleRemoveItem(id);\r\n\t\t\t}\r\n\t\t\tupdateCartCount();\r\n\t\t},\r\n\t\t[orders, addToCart, handleRemoveItem]\r\n\t);\r\n\r\n\tconst totalPrice = useMemo(() => {\r\n\t\treturn orders.reduce((acc, order) => acc + order.price * (order.quantity || 1), 0);\r\n\t}, [orders]);\r\n\r\n\tconst [isButtonDisabled, setIsButtonDisabled] = useState(false);\r\n\r\n\tconst submitOrder = async (values, { resetForm }) => {\r\n\t\tconst detailList = orders.map((order) => ({\r\n\t\t\tmenuId: order.id,\r\n\t\t\tquantity: order.quantity,\r\n\t\t\tnote: order.note || '',\r\n\t\t}));\r\n\r\n\t\tconst orderRequest = {\r\n\t\t\tdescription: values.description,\r\n\t\t\tpromotionCode: values.promotionCode,\r\n\t\t\tfullName: values.fullName,\r\n\t\t\taddress: values.address,\r\n\t\t\tstatus: 'WAITING',\r\n\t\t\tdetailList,\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tsetIsButtonDisabled(true); // Khóa nút\r\n\t\t\tconst response = await orderServices.createOrder(orderRequest);\r\n\t\t\tToast.success('Đơn hàng đã được tạo');\r\n\t\t\tsetOrders([]);\r\n\t\t\tlocalStorage.removeItem('order');\r\n\t\t\tupdateCartCount();\r\n\t\r\n\t\t\tconst paymentModalInstance = window.bootstrap.Modal.getInstance(document.getElementById('paymentModal'));\r\n\t\t\tif (paymentModalInstance) {\r\n\t\t\t\tpaymentModalInstance.hide();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tToast.error('Lỗi khi tạo đơn hàng');\r\n\t\t\tconsole.error('Error creating order', error);\r\n\t\t} finally {\r\n\t\t\tsetIsButtonDisabled(false); // Mở khóa nút nếu cần\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleBuyClick = async (validateForm, setFieldTouched) => {\r\n\t\tawait setFieldTouched('description', true);\r\n\t\tawait setFieldTouched('promotionCode', true);\r\n\t\tawait setFieldTouched('fullName', true);\r\n\t\tawait setFieldTouched('address', true);\r\n\r\n\t\tconst errors = await validateForm();\r\n\t\tif (Object.keys(errors).length === 0) {\r\n\t\t\tconst paymentModal = new window.bootstrap.Modal(document.getElementById('paymentModal'));\r\n\t\t\tpaymentModal.show();\r\n\t\t} else {\r\n\t\t\tconsole.log('Form validation failed', errors);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"container my-4\">\r\n\t\t\t<h2 className=\"text-center mb-4\">Shopping Cart</h2>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t\t<div className=\"card mt-0\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Cart items</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t{orders.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<div className=\"alert alert-warning text-center\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t\tYour Cart is Empty!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<table className=\"table table-bordered\">\r\n\t\t\t\t\t\t\t\t\t<thead className=\"thead-light\">\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Image</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Name Product</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Price</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Quantity</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Cooking Time</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{orders.map((order, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={order.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.image == null || order.image == undefined ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '60px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={images[index < images.length ? index : 1].image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img style={{ height: '60px' }} src={order.image} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{order.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{order.price} vnđ</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDecreaseQuantity(order.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={(order.quantity || 1) <= 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"mx-2\">{order.quantity || 1}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleIncreaseQuantity(order.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{order.cookTime} minute</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveItem(order.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4\">\r\n\t\t\t\t\t<div className=\"card mt-0\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Cart Summary</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row g-3 mb-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-5\">Total Items: </div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-7\">{orders.length}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-5\">Total Price: </div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-7\">{totalPrice.toFixed(3)} vnđ</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Formik\r\n\t\t\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\t\t\tdescription: '',\r\n\t\t\t\t\t\t\t\t\tpromotionCode: '',\r\n\t\t\t\t\t\t\t\t\tfullName: '',\r\n\t\t\t\t\t\t\t\t\taddress: '',\r\n\t\t\t\t\t\t\t\t\tpaymentMethod: '',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalidationSchema={Yup.object({\r\n\t\t\t\t\t\t\t\t\tdescription: Yup.string().required('Description is required'),\r\n\t\t\t\t\t\t\t\t\tpromotionCode: Yup.string(),\r\n\t\t\t\t\t\t\t\t\tfullName: Yup.string().required('Name is required'),\r\n\t\t\t\t\t\t\t\t\taddress: Yup.string().required('Address is required'),\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tonSubmit={submitOrder}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{({ touched, errors, setFieldTouched, submitForm, validateForm }) => (\r\n\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row g-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-5 d-flex align-items-center\">Description:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field className=\"form-control\" name=\"description\" type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{touched.description && errors.description ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.description}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-5 d-flex align-items-center\">Promotion Code:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field className=\"form-control\" name=\"promotionCode\" type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-5 d-flex align-items-center\">Full name:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field className=\"form-control\" name=\"fullName\" type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{touched.fullName && errors.fullName ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.fullName}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-5 d-flex align-items-center\">Address:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field className=\"form-control\" name=\"address\" type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{touched.address && errors.address ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger\">{errors.address}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleBuyClick(validateForm, setFieldTouched)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary mt-4 w-100\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={orders.length === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tBuy\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"paymentModal\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"mb-2\">Confirm payment</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-check me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"paymentMethod\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"creditCard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCredit Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-check me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"paymentMethod\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"paypal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPayPal\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-check me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"paymentMethod\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"cashOnDelivery\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCash on Delivery\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea className=\"form-control mt-2\" placeholder=\"Note for shop\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubmitForm();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsButtonDisabled(true); // Khóa nút ngay khi nhấn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isButtonDisabled} // Khóa nút khi đang gửi\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tConfirm Payment\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Formik>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Cart;\r\n","import app from '../../api/baseApi';\r\n\r\nconst getOrderList = async function (status) {\r\n\ttry {\r\n\t\tconst response = await app.get('/order-dish', { params: { status: status } });\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst createOrder = async function (data) {\r\n\ttry {\r\n\t\tconst response = await app.post('/order-dish', data);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst updateOrder = async function (id, data) {\r\n\ttry {\r\n\t\tconst response = await app.put(`/order-dish/${id}`, data);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst detailOrder = async function (id) {\r\n\ttry {\r\n\t\tconst response = await app.get(`/order-dish/${id}`);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst cancelOrder = async function (id) {\r\n\ttry {\r\n\t\tconst response = await app.delete(`/order-dish/${id}`);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst changeOrderStatus = async function (id, status) {\r\n\ttry {\r\n\t\tconst response = await app.post(`cms/order-dish/${id}/status`, status);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst respondToOrder = async function (id, data) {\r\n\ttry {\r\n\t\tconst response = await app.post(`/order-dish/${id}/response`, data);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst confirmPayment = async function (id, data) {\r\n\ttry {\r\n\t\tconst response = await app.put(`/orders/payment/${id}`, data);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst shipOrder = async function (id, data) {\r\n\ttry {\r\n\t\tconst response = await app.put(`/orders/shipping/${id}`, data);\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nconst orderServices = {\r\n\tgetOrderList,\r\n\tcreateOrder,\r\n\tdetailOrder,\r\n\tupdateOrder,\r\n\tcancelOrder,\r\n\trespondToOrder,\r\n\tconfirmPayment,\r\n\tshipOrder,\r\n\tchangeOrderStatus,\r\n};\r\n\r\nexport default orderServices;\r\n"],"names":["cookies","Cookies","app","axios","create","baseURL","headers","interceptors","request","use","config","token","get","Authorization","concat","error","Promise","reject","response","_error$response","_error$response$data","errMessage","data","err","orders","setOrders","useState","updateCartCount","useOutletContext","images","id","image","useEffect","storedOrders","JSON","parse","localStorage","getItem","addToCart","useCallback","order","quantity","prevOrders","find","item","map","console","log","handleRemoveItem","updatedOrders","filter","setItem","stringify","handleIncreaseQuantity","handleDecreaseQuantity","totalPrice","useMemo","reduce","acc","price","isButtonDisabled","setIsButtonDisabled","_jsxs","className","children","_jsx","length","role","index","undefined","style","height","src","name","onClick","disabled","cookTime","toFixed","Formik","initialValues","description","promotionCode","fullName","address","paymentMethod","validationSchema","Yup","required","onSubmit","async","values","_ref","resetForm","detailList","menuId","note","orderRequest","status","orderServices","createOrder","Toast","success","removeItem","paymentModalInstance","window","bootstrap","Modal","getInstance","document","getElementById","hide","_ref2","touched","errors","setFieldTouched","submitForm","validateForm","Form","Field","type","Object","keys","show","handleBuyClick","value","placeholder","getOrderList","params","post","detailOrder","updateOrder","put","cancelOrder","delete","respondToOrder","confirmPayment","shipOrder","changeOrderStatus"],"sourceRoot":""}