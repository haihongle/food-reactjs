"use strict";(self.webpackChunkfoodstorecms=self.webpackChunkfoodstorecms||[]).push([[381],{8488:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(6213);const s=new(a(4750).A),l=n.A.create({baseURL:"http://localhost:8080/api/v1",headers:{"Content-type":"application/json"}});l.interceptors.request.use((e=>{const t=s.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),l.interceptors.response.use((e=>e),(e=>{var t,a;const n=(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.err)||"An unknown error occurred";return Promise.reject(n)}));const o=l},6747:(e,t,a)=>{a.d(t,{A:()=>p});a(5043);var n=a(3892),s=a(3280),l=a(7943),o=(a(9191),a(4086)),c=a(1899),i=a.n(c),r=(a(5015),a(579));const d=(e,t,a,s)=>(0,r.jsx)(n.ED,{name:a,children:n=>{let{remove:l}=n;return(0,r.jsx)("div",{className:"table-responsive",children:(0,r.jsxs)("table",{className:o.A.tableContainer,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[t.map(((e,t)=>{let{label:a}=e;return(0,r.jsx)("th",{children:a},t)})),(0,r.jsx)("th",{children:"Action"})]})}),(0,r.jsx)("tbody",{children:e[a].map(((e,n)=>m(e,n,t,l,a,s)))})]})})}}),m=(e,t,a,s,o,c)=>(0,r.jsxs)("tr",{children:[a.map((e=>{let{field:a,type:s,options:l,label:i}=e;return(0,r.jsxs)("td",{children:[u(a,t,{type:s,label:i,options:l},o,c),(0,r.jsx)(n.Kw,{name:"".concat(o,"[").concat(t,"].").concat(a),component:"div",className:"text-danger"})]},"".concat(t,"-").concat(a))})),(0,r.jsxs)("td",{className:"text-center",children:[(0,r.jsx)("i",{className:"fa-solid text-danger fa-circle-minus fs-5 cms_normal-hover","data-tooltip-id":"removeRow-tooltip","data-tooltip-content":"Remove row","data-tooltip-delay-show":"50","data-tooltip-place":"right-start",onClick:()=>s(t)}),(0,r.jsx)(l.m_,{id:"removeRow-tooltip"})]})]},t),u=(e,t,a,s,l)=>{const{type:o,label:c,options:d}=a;switch(o){case"select":return(0,r.jsx)(n.D0,{name:"".concat(s,"[").concat(t,"].").concat(e),children:e=>{let{field:t}=e;return(0,r.jsxs)("select",{...t,className:"form-select",children:[(0,r.jsxs)("option",{value:"",disabled:!0,children:["Select ",c]}),d&&d.length>0?d.map((e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))):(0,r.jsx)("option",{value:"",children:"No options availabel"})]})}});case"checkbox":return(0,r.jsx)(n.D0,{name:"".concat(s,"[").concat(t,"].").concat(e),children:e=>{let{field:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"checkbox",...t,className:"form-check-input"}),(0,r.jsx)("label",{className:"form-check-label",children:c})]})}});case"date":return(0,r.jsx)(n.D0,{name:"".concat(s,"[").concat(t,"].").concat(e),children:e=>{let{field:{name:t,value:a}}=e;return(0,r.jsx)(i(),{selected:a,onChange:e=>l(t,e),dateFormat:"dd/MM/yyyy",className:"form-control",autoComplete:"off"})}});case"number":return(0,r.jsx)(n.D0,{name:"".concat(s,"[").concat(t,"].").concat(e),type:"number",className:"form-control"});case"time":return(0,r.jsx)(n.D0,{name:"".concat(s,"[").concat(t,"].").concat(e),type:"number",className:"form-control",autoComplete:"off"});case"text":return(0,r.jsx)(n.D0,{name:"".concat(s,"[").concat(t,"].").concat(e),type:"text",className:"form-control"});default:return(0,r.jsx)(r.Fragment,{children:"Invalid input field"})}},p=e=>{let{title:t,properties:a=[],detailProperties:l=[],modalID:c,submitFunction:i,tableFieldName:m="tableField"}=e;const u=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;const a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>{let{field:a,validation:n}=t;return e[a]=n,e}),{});return e.length>0&&(a[t]=s.YO().of(s.Ik().shape(e.reduce(((e,t)=>{let{field:a,validation:n}=t;return e[a]=n,e}),{})))),s.Ik().shape(a)}(a,l,m),p=l.length;return(0,r.jsx)(r.Fragment,{children:a.length>0?(0,r.jsx)("div",{className:"modal fade","data-bs-backdrop":"static",id:c,children:(0,r.jsx)("div",{className:"modal-dialog ".concat((h=p,0===h?"modal-lg":h<5?"modal-xl":o.A["modal-xxl"])),children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)("div",{className:"modal-header",children:(0,r.jsx)("h5",{className:"modal-title",children:t})}),(0,r.jsx)("div",{className:"modal-body",children:(0,r.jsx)(n.l1,{initialValues:{...a.reduce(((e,t)=>{let{field:a,initialValue:n}=t;return e[a]=n||"",e}),{}),[m]:[]},validationSchema:u,enableReinitialize:!0,onSubmit:async(e,t)=>{let{setSubmitting:a,resetForm:n}=t;await i(e)&&n(),a(!1)},children:e=>{let{isSubmitting:t,values:s,setFieldValue:c,resetForm:i}=e;return(0,r.jsxs)(n.lV,{children:[(0,r.jsx)("div",{className:"row gy-2 pt-2 pb-2",children:a.map(((e,t)=>{let{label:a,field:s,type:l,className:c,options:i}=e;return(0,r.jsxs)("div",{className:c||"col-12",children:[(0,r.jsxs)("div",{className:"".concat(o.A["input-container"]),children:[(0,r.jsx)("label",{htmlFor:s,className:"".concat(o.A["input-label"]),children:a}),"select"===l&&(0,r.jsxs)(n.D0,{name:s,as:"select",className:"".concat(o.A["input-field"]),children:[(0,r.jsxs)("option",{value:"",disabled:!0,children:["Select ",a]}),i&&i.map((e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value)))]}),"text-area"===l&&(0,r.jsx)(n.D0,{name:s,as:"textarea",className:"".concat(o.A["input-field"]),autoComplete:"off"}),"select"!==l&&"text-area"!==l&&(0,r.jsx)(n.D0,{name:s,type:l,className:"".concat(o.A["input-field"]),autoComplete:"off"})]}),(0,r.jsx)(n.Kw,{name:s,component:"div",className:"".concat(o.A["input-error"])})]},t)}))}),l&&l.length>0&&d(s,l,m,c),(0,r.jsxs)("div",{className:"modal-footer mt-2",children:[l&&l.length>0&&(0,r.jsx)(n.ED,{name:m,children:e=>{let{push:t}=e;return(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(l.reduce(((e,t)=>{let{field:a,initialValue:n}=t;return e[a]=n||"",e}),{})),children:"Add Row"})}}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:t,children:t?(0,r.jsx)("span",{className:"spinner-border spinner-border-sm"}):"Submit"}),(0,r.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:i,children:"Cancel"})]})]})}})})]})})}):(0,r.jsx)("p",{children:"No properties availabel"})});var h}},4527:(e,t,a)=>{a.d(t,{A:()=>c});const n={pagination:"CustomPagination_pagination__N5HUP",active:"CustomPagination_active__HzbBN","break-me":"CustomPagination_break-me__LfnQx"};var s=a(2157),l=a.n(s),o=a(579);const c=function(e){let{pageCount:t,handlePageClick:a}=e;return(0,o.jsx)(l(),{previousLabel:"<<",nextLabel:">>",breakLabel:"...",pageCount:t,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:a,containerClassName:n.pagination,activeClassName:n.active,breakClassName:n.breakMe})}},7836:(e,t,a)=>{a.d(t,{A:()=>p});const n="CustomTable_tableContainer__-33Xc",s="CustomTable_tableManage__t1C12",l="CustomTable_tableTrue__p8Hxx",o="CustomTable_tableFalse__fEl5c",c="CustomTable_dangerBackground__ohzgE",i="CustomTable_warningBackground__uRHln";var r=a(4571),d=a(7943),m=(a(9191),a(579));function u(e){const t=e.replace(/([a-z])([A-Z])/g,"$1 $2");return t.charAt(0).toUpperCase()+t.slice(1)}const p=e=>{let{data:t,actions:a,hiddenFields:p=[]}=e;const h=t&&t.length>0?Object.keys(t[0]).filter((e=>!p.includes(e))):[];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"table-responsive",children:t&&t.length>0?(0,m.jsxs)("table",{className:"".concat(n),children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"text-center",children:"No."}),h.map((e=>(0,m.jsx)("th",{className:"text-center",children:u(e)},e))),a&&(0,m.jsx)("th",{className:"".concat(s),children:"Manage"})]})}),(0,m.jsx)("tbody",{children:t.map(((e,t)=>{const n=(0,r.A)(e);return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"text-center ".concat("danger"===n.timeStatus?c:"warning"===n.timeStatus?i:""),children:t+1}),h.map(((e,t)=>{const a=n.timeStatus;return(0,m.jsx)("td",{className:"".concat("danger"===a?c:"warning"===a?i:""),children:"boolean"===typeof n[e]?(0,m.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:n[e]?(0,m.jsx)("i",{className:"".concat(l," fa-solid fa-circle-check")}):(0,m.jsx)("i",{className:"".concat(o," fa-solid fa-circle-xmark")})}):n[e]},e)})),a&&(0,m.jsxs)("td",{className:"".concat(s," text-nowrap"),children:[a.detail&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{"data-tooltip-id":"detail-tooltip","data-tooltip-content":"Show detail","data-tooltip-delay-show":"50","data-tooltip-place":"top-end",className:"btn btn-sm btn-primary me-1",onClick:()=>a.detail(e.id),children:(0,m.jsx)("i",{className:"fa-solid fa-eye"})}),(0,m.jsx)(d.m_,{id:"detail-tooltip"})]}),a.delete&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{"data-tooltip-id":"delete-tooltip","data-tooltip-content":"Delete","data-tooltip-delay-show":"50","data-tooltip-place":"top-end",className:"btn btn-sm btn-danger",onClick:()=>a.delete(e.id),children:(0,m.jsx)("i",{className:"fa-solid fa-trash"})}),(0,m.jsx)(d.m_,{id:"delete-tooltip"})]}),a.toggle&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{"data-tooltip-id":"toggle-tooltip","data-tooltip-content":a.toggle.tooltip,"data-tooltip-delay-show":"50","data-tooltip-place":"top-end",className:"btn btn-sm btn-secondary",onClick:()=>a.toggle.function(e.id),children:(0,m.jsx)("i",{className:"fa-solid fa-pen-to-square"})}),(0,m.jsx)(d.m_,{id:"toggle-tooltip"})]})]})]},e.id||t)}))})]}):(0,m.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,m.jsx)("img",{className:"user-avatar",src:"/Nothing.png",alt:""}),(0,m.jsx)("h1",{className:"m-0 ps-1 fw-semibold text-secondary",children:"THERE IS NO DATA"})]})})})}},7620:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(6747),s=a(739),l=a(7836),o=a(5043),c=a(2773),i=a(4527),r=a(579);const d=function(){const[e,t]=(0,o.useState)([]),[a,d]=(0,o.useState)(0),[m,u]=(0,o.useState)({page:1,size:10}),p=async()=>{try{const e=await s.A.getList(m);e.success?(t(e.data),d(Math.ceil(e.total/m.size))):c.A.error(e.message)}catch(e){c.A.error(e.message)}};return(0,o.useEffect)((()=>{p()}),[m]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{title:"Add new employee",properties:[{field:"Name",type:"input"},{field:"Age",type:"input-number"},{field:"Email",type:"input"},{field:"Address",type:"input"}],formID:"addProblem",modalID:"employeeModal",submitFunction:()=>(async e=>{try{const t=await s.A.addNew(e);t.success?(c.A.success(t.message),p()):c.A.error(t.message)}catch(t){c.A.error(t.message||"An error occurred while adding employee")}})("addProblem")}),(0,r.jsxs)("div",{className:"card-header d-flex justify-content-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#employeeModal",children:"Add problem"})}),a>0&&(0,r.jsx)("div",{children:(0,r.jsx)(i.A,{pageCount:a,handlePageClick:e=>{u({page:e.selected,size:10})}})})]}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsx)(l.A,{data:e})})]})}},739:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(8488);const s={getList:async function(e){try{return(await n.A.get("/employee",{params:e})).data}catch(t){throw t}},getDetail:async function(e){try{return(await n.A.get("/employees/".concat(e))).data}catch(t){throw t}},updateInformation:async function(e,t){try{return(await n.A.post("/employees/".concat(e),t)).data}catch(a){throw a}}}},4571:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(6178),s=a.n(n);const l=e=>{const t={...e};return(e=>{const t=[];for(const a in e)if(e.hasOwnProperty(a)){const n=e[a];"string"===typeof n&&s()(n,s().ISO_8601,!0).isValid()&&t.push(a)}return t})(e).forEach((a=>{const n=e[a],l=s()(n,s().ISO_8601,!0);l.isValid()&&("0000-01-01"===l.format("YYYY-MM-DD")?t[a]=l.format("HH:mm"):"00:00:00"!==l.format("HH:mm:ss")?t[a]=l.format("DD/MM/YYYY - HH:mm"):t[a]=l.format("DD/MM/YYYY"))})),t}},4086:(e,t,a)=>{a.d(t,{A:()=>n});const n={tableContainer:"CustomModal_tableContainer__IozWa","modal-xxl":"CustomModal_modal-xxl__kj6Rl","input-container":"CustomModal_input-container__S7gtc","input-label":"CustomModal_input-label__TXN3f","input-field":"CustomModal_input-field__FBwFh","input-checkbox":"CustomModal_input-checkbox__dDIxQ","input-error":"CustomModal_input-error__ZxZf2","custom-checkbox":"CustomModal_custom-checkbox__4ZOt3"}}}]);
//# sourceMappingURL=381.7da8d630.chunk.js.map