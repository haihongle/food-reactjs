"use strict";(self.webpackChunkfoodstorecms=self.webpackChunkfoodstorecms||[]).push([[958],{8488:(e,t,a)=>{a.d(t,{A:()=>s});var i=a(6213);const r=new(a(4750).A),n=i.A.create({baseURL:"http://localhost:8080/api/v1",headers:{"Content-type":"application/json"}});n.interceptors.request.use((e=>{const t=r.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>{var t,a;const i=(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.err)||"An unknown error occurred";return Promise.reject(i)}));const s=n},1958:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var i=a(5043),r=a(3892),n=a(3280),s=a(2773),c=(a(5181),a(8645)),l=a(579);function o(){const[e,t]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{const e=await c.A.getMaterials();e.success?t(e.data):s.A.error(e.message)}catch(e){s.A.error("Failed to fetch material list")}})()}),[]);const a=n.Ik().shape({responsibleBy:n.ai().required("Responsible By is required"),repType:n.Yj().required("Report Type is required"),purpose:n.Yj().required("Purpose is required"),detailList:n.YO().of(n.Ik().shape({quantity:n.ai().min(1).required("Quantity is required"),materialId:n.ai(),factoryDate:n.p6(),note:n.Yj(),totalValue:n.ai()}))});return(0,l.jsxs)("div",{children:[(0,l.jsx)(r.l1,{initialValues:{responsibleBy:1,description:"",repType:"IMPORT",purpose:"BALANCE",supplier:"",detailList:[{quantity:"",materialId:"",factoryDate:"",note:"",totalValue:""}]},validationSchema:a,children:t=>{let{values:a}=t;return(0,l.jsxs)(r.lV,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Description:"}),(0,l.jsx)(r.D0,{name:"description",type:"text"}),(0,l.jsx)(r.Kw,{name:"description",component:"div"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Report Type:"}),(0,l.jsxs)(r.D0,{name:"repType",as:"select",children:[(0,l.jsx)("option",{value:"IMPORT",children:"IMPORT"}),(0,l.jsx)("option",{value:"EXPORT",children:"EXPORT"})]}),(0,l.jsx)(r.Kw,{name:"repType",component:"div"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Purpose:"}),(0,l.jsxs)(r.D0,{name:"purpose",as:"select",children:[(0,l.jsx)("option",{value:"BALANCING",children:"BALANCE"}),(0,l.jsx)("option",{value:"BUSINESS",children:"BUSINESS"})]}),(0,l.jsx)(r.Kw,{name:"purpose",component:"div"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Supplier:"}),(0,l.jsx)(r.D0,{name:"supplier",type:"text"}),(0,l.jsx)(r.Kw,{name:"supplier",component:"div"})]}),(0,l.jsx)(r.ED,{name:"detailList",children:t=>{let{insert:i,remove:n,push:s}=t;return(0,l.jsxs)("div",{children:[a.detailList.length>0&&a.detailList.map(((t,a)=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{children:["Material #",a+1]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Quantity:"}),(0,l.jsx)(r.D0,{name:"detailList.".concat(a,".quantity"),type:"number"}),(0,l.jsx)(r.Kw,{name:"detailList.".concat(a,".quantity"),component:"div"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Material ID:"}),(0,l.jsx)(r.D0,{name:"detailList.".concat(a,".materialId"),as:"select",children:e.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name})))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Factory Date:"}),(0,l.jsx)(r.D0,{name:"detailList.".concat(a,".factoryDate"),type:"datetime-local"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Note:"}),(0,l.jsx)(r.D0,{name:"detailList.".concat(a,".note"),type:"text"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Total Value:"}),(0,l.jsx)(r.D0,{name:"detailList.".concat(a,".totalValue"),type:"number"})]}),(0,l.jsx)("button",{type:"button",onClick:()=>n(a),children:"Remove"})]},a))),(0,l.jsx)("button",{type:"button",onClick:()=>s({quantity:"",materialId:"",factoryDate:"",note:"",totalValue:""}),children:"Add Detail"})]})}}),(0,l.jsx)("button",{type:"submit",children:"Submit"})]})}}),"test"]})}},5181:(e,t,a)=>{a.d(t,{A:()=>n});var i=a(8488);const r="im-ex-recipe",n={getList:async function(e,t){try{const a={...e,repType:t};return(await i.A.get(r,{params:a})).data}catch(a){throw a}},getDetail:async function(e){try{return(await i.A.get("/".concat(r,"/").concat(e))).data}catch(t){throw t}},createNew:async function(e){try{return(await i.A.post(r,e)).data}catch(t){throw t}}}},8645:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(8488);const r={getMaterials:async function(e){try{return(await i.A.get("/materials",{params:e})).data}catch(t){throw t}},updateMaterials:async function(e,t){try{return(await i.A.patch("/materials/".concat(e),t)).data}catch(a){throw a}},addMaterials:async function(e){try{return(await i.A.post("/materials",e)).data}catch(t){throw t}},deleteMaterials:async function(e){try{return(await i.A.delete("/materials/".concat(e))).data}catch(t){throw t}},detailMaterial:async function(e){try{return(await i.A.get("/materials/".concat(e))).data}catch(t){throw t}}}}}]);
//# sourceMappingURL=958.b4488bb7.chunk.js.map